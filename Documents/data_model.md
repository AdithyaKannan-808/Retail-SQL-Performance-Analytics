#  Data Model

This project uses a simple but powerful relational structure that integrates transactional data, return records, and salesperson-region mappings.  
From these base tables, multiple analytical views are created to support monthly reporting, target modelling, and performance ranking.

---

##  Base Tables

### **1. orders**
Contains transactional-level retail sales data.

| Column | Description |
|--------|-------------|
| order_id | Unique order identifier |
| order_date | Date of purchase |
| ship_date | Shipping date |
| customer_id / customer_name | Customer details |
| segment | Customer segment |
| region | Geographic region |
| product_id / product_name | Product identifiers |
| category / sub_category | Product category hierarchy |
| sales | Revenue |
| profit | Profit earned |
| discount | Discount applied |
| quantity | Quantity sold |
| returns | Return flag (“Yes”, “Returned”, etc.) |
| sales_person | Salesperson responsible |


---

### **2. returned**
List of returned order IDs (cleaner return indicator).

| Column | Description |
|--------|-------------|
| Returned | Text indicator |
| Order_ID | Returned order_id |

Used to create a unified `is_returned` field.  


---

### **3. people**
Maps each salesperson to their assigned region.

| Column | Description |
|--------|-------------|
| Person | Salesperson name |
| Region | Region assigned |

Used to enrich analytics with salesperson-region context.  


---

##  Analytical Views

### **1. vw_orders_full**
A unified analytical view joining:

- orders  
- returned  
- people  

Creates fields:
- `is_returned` (0/1 flag)  
- `sales_person_region`  
- Cleaned/standardized salesperson names  

This is the core foundation for all further analytics.  


---

### **2. vw_monthly_actuals**
Aggregates monthly revenue and profit per salesperson.

Fields include:
- sales_person  
- month_yyyymm  
- revenue_actual  
- profit_actual  

Used for target modelling.  


---

### **3. sales_target_monthly**
Table storing synthetic monthly targets generated by:

> Next month’s target = Previous month’s actual × 1.03

Primary key: `(sales_person, month_yyyymm)`  


---

### **4. vw_target_attainment**
Final performance view combining:

- monthly actuals  
- monthly targets  
- revenue/profit variance %  
- performance status (Overachiever / On target / Underperformer)  
- monthly ranking using `RANK()`  

This is the main output for reporting.  

